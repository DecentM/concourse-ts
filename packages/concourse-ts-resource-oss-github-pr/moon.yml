id: concourse-ts-resource-oss-github-pr
language: typescript
platform: node
type: library

tasks:
  build:
    command: swc
    args:
      - --outputPath
      - $workspaceRoot/dist/packages/concourse-ts-resource-oss-github-pr
      - --tsConfig
      - $workspaceRoot/packages/concourse-ts-resource-oss-github-pr/tsconfig.lib.json
      - --main
      - $workspaceRoot/packages/concourse-ts-resource-oss-github-pr/src/index.ts
      - --assets
      - '["packages/concourse-ts-resource-oss-github-pr/*.md"]'
    outputs:
      - '{options.outputPath}'

  lint:
    command: eslint
    args:
      - '["packages/concourse-ts-resource-oss-github-pr/**/*.ts"]'
    outputs:
      - '{options.outputFile}'
